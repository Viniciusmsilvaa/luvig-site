<!DOCTYPE html>
<html lang="pt-BR">
   <head>
    <meta charset="UTF-8">
    <!-- ADICIONE ESTA LINHA LOGO ABAIXO DO charset -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="LUVIG Serviços Gerais – limpeza de piscina, limpeza predial, corte de grama e venda de produtos BeL Piscinas em Governador Celso Ramos – SC.">

    <title>LUVIG Serviços Gerais – Limpeza & Produtos BeL Piscinas</title>
    <link rel="stylesheet" href="style.css">
</head>

  <title>LUVIG Serviços Gerais – Limpeza & Produtos BeL Piscinas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ================= HEADER ================= -->
  <header class="header">
  <div class="container header-inner">
    <!-- Logo + textos -->
    <div class="logo-area">
      <img src="Design_sem_nome__1_-removebg-preview (1).png" alt="LUVIG Serviços Especializados" class="logo-img">
      <div class="logo-text">
        <span class="logo-title">LUVIG</span>
        <span class="logo-subtitle">Serviços Especializados</span>
        <span class="logo-badge">14 anos em<br>Governador Celso Ramos</span>
      </div>
    </div>

    <!-- Menu -->
    <nav class="nav-links">
      <a href="#inicio">Início</a>
      <a href="#servicos">Serviços</a>
      <a href="#produtos">Produtos</a>
      <a href="#sobre">Sobre</a>
      <a href="#contato">Contato</a>
    </nav>

    <!-- Botões à direita -->
    <div class="header-actions">
      <button id="openLeadModal" class="btn-primary header-cta">
        Solicitar informações
      </button>

      <button id="openCart" class="cart-button">
        <span>Carrinho</span>
        <span id="cart-count" class="cart-count">0</span>
      </button>
    </div>
  </div>
</header>
  <!-- ================= HERO ================= -->
  <section id="inicio" class="hero">
    <div class="container">
      <div class="hero-grid">
        <!-- LADO ESQUERDO: TEXTO -->
        <div class="hero-content">
          <h1>Limpeza profissional, cuidado contínuo e produtos BeL Piscinas em um só lugar.</h1>
          <p>
            A LUVIG cuida da sua piscina, do seu prédio e do seu jardim com equipe especializada
            e agora também com toda a linha BeL Piscinas – do teste da água ao acabamento.
          </p>

          <div class="hero-actions">
            <button class="btn-primary" onclick="document.getElementById('produtos').scrollIntoView({behavior:'smooth'})">
              Ver produtos BeL
            </button>
            <button class="btn-secondary" onclick="document.getElementById('servicos').scrollIntoView({behavior:'smooth'})">
              Ver serviços LUVIG
            </button>
          </div>

          <div class="hero-badges">
            <span>+14 anos em Governador Celso Ramos</span>
            <span>Atendimento a condomínios, residências e comércios</span>
            <span>Produtos BeL oficiais para piscinas</span>
          </div>
        </div>

        <!-- LADO DIREITO: VISUAL + CARROSSEL -->
        <div class="hero-visual">
          <!-- colagem de fundo (leve) -->
          <div class="hero-photo hero-photo-left"></div>
          <div class="hero-photo hero-photo-main"></div>
          <div class="hero-photo hero-photo-right"></div>

          <!-- CARROSSEL PRINCIPAL -->
          <div class="hero-slider" id="heroSlider">
            <div class="hero-slide active" style="background-image:url('1.png')"></div>
            <div class="hero-slide" style="background-image:url('2.png')"></div>
            <div class="hero-slide" style="background-image:url('3.png')"></div>
            <div class="hero-slide" style="background-image:url('4.png')"></div>

            <button class="hero-arrow hero-prev" id="heroPrev">‹</button>
            <button class="hero-arrow hero-next" id="heroNext">›</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= SERVIÇOS ================= -->
  <section id="servicos" class="section">
    <div class="container">
      <h2>Serviços LUVIG</h2>
      <p class="section-intro">
        Soluções completas em limpeza de piscina, limpeza predial, corte de grama, jardinagem,
        serviços gerais e pequenas reformas, com atendimento contínuo ou pontual conforme a sua necessidade.
      </p>

      <div class="services-grid">
        <div class="service-card">
          <h3>Limpeza de piscina</h3>
          <p>
            Tratamento completo da água, aspiração, limpeza de bordas e casa de máquinas,
            utilizando produtos BeL Piscinas e controle técnico da qualidade.
          </p>
        </div>

        <div class="service-card">
          <h3>Limpeza predial</h3>
          <p>
            Limpeza de áreas comuns internas e externas, halls, garagens, vidros e manutenção diária
            ou em dias definidos em contrato.
          </p>
        </div>

        <div class="service-card">
          <h3>Corte de grama & jardim</h3>
          <p>
            Manutenção de gramados, poda leve, organização de canteiros e cuidado constante com a área verde
            de condomínios e residências.
          </p>
        </div>

        <div class="service-card">
          <h3>Caixa d’água, cisterna e pequenos reparos</h3>
          <p>
            Limpeza de reservatórios, apoio em pequenos reparos e serviços gerais para manter os imóveis em dia.
          </p>
        </div>
      </div>

      <div class="services-cta">
        <button class="btn-primary" id="btnSolicitarServico">
          Solicitar orçamento de serviços
        </button>
      </div>
    </div>
  </section>

  <!-- ================= PRODUTOS ================= -->
  <section id="produtos" class="section section-alt">
    <div class="container">
      <h2>Produtos BeL para piscinas</h2>
      <p class="section-intro">
        Linha completa BeL Piscinas para verificar, ajustar, purificar e tratar a água,
        com a segurança de comprar direto com quem cuida da manutenção todos os dias.
      </p>

      <!-- VERIFICAR -->
      <div class="product-group">
        <h3>Verificar</h3>
        <p class="product-group-subtitle">
          Produtos para medição de cloro e pH da água.
        </p>

        <div class="products-grid">
          <!-- Kit teste cloro e pH -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="kit-teste">
              <div class="product-image-carousel" data-carousel="kit-teste">
                <img src="kit teste.png"
                     alt="Kit teste cloro e pH BeL"
                     class="product-carousel-img active"
                     data-variant-img>
              </div>
              <h4>Kit teste cloro e pH BeL</h4>
              <p class="product-pack">
                Conteúdo: 1 medidor + 1 indicador de cloro 23 ml + 1 indicador de pH 23 ml.
              </p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="kit-teste">
              Adicionar ao carrinho
            </button>
          </div>
        </div>
      </div>

      <!-- AJUSTAR -->
      <div class="product-group">
        <h3>Ajustar</h3>
        <p class="product-group-subtitle">
          Correção de pH e alcalinidade da água.
        </p>

        <div class="products-grid">
          <!-- Barrilha leve -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="barrilha">
              <div class="product-image-carousel" data-carousel="barrilha">
                <img src="barrilha leve.jpg"
                     alt="Barrilha leve BeL 2 kg"
                     class="product-carousel-img active"
                     data-variant-img>
              </div>
              <h4>Barrilha leve BeL</h4>
              <p class="product-pack">Peso/volume: 2 kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="barrilha">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Bicarbonato de sódio -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="bicarbonato">
              <div class="product-image-carousel" data-carousel="bicarbonato">
                <img src="bircabonato de sódio.webp"
                     alt="Bicarbonato de sódio BeL 2 kg"
                     class="product-carousel-img active"
                     data-variant-img>
              </div>
              <h4>Bicarbonato de sódio BeL</h4>
              <p class="product-pack">Peso/volume: 2 kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="bicarbonato">
              Adicionar ao carrinho
            </button>
          </div>
        </div>
      </div>

      <!-- PURIFICAR -->
      <div class="product-group">
        <h3>Purificar</h3>
        <p class="product-group-subtitle">
          Desinfecção da água, eliminação de microrganismos e manutenção do cloro.
        </p>

        <div class="products-grid">
          <!-- Cloro granulado 65% (variações 1kg / 5kg / 10kg) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="cloro-granulado">
              <div class="product-image-carousel" data-carousel="cloro-granulado">
                <img src="cloro granulado 1kg.webp"
                     alt="Cloro granulado BeL 1 kg"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="cloro granulado 5g.webp"
                     alt="Cloro granulado BeL 5 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <img src="cloro granulado bel.jpg"
                     alt="Cloro granulado BeL 10 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="cloro-granulado">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="cloro-granulado">›</button>
              </div>
              <h4>Cloro granulado 65% BeL</h4>
              <p class="product-pack">Peso/volume: 1 kg / 5 kg / 10 kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="cloro-granulado">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Dicloro orgânico estabilizado (1kg / 5kg / 10kg) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="dicloro">
              <div class="product-image-carousel" data-carousel="dicloro">
                <img src="dicloro orgãnico 1kg.webp"
                     alt="Dicloro orgânico BeL 1 kg"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="cloro organico 5kg.webp"
                     alt="Dicloro orgânico BeL 10 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <img src="DICLORO ORGANICO.jpg"
                     alt="Dicloro orgânico BeL 5 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="dicloro">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="dicloro">›</button>
              </div>
              <h4>Dicloro orgânico estabilizado BeL</h4>
              <p class="product-pack">Peso/volume: 1 kg / 5 kg / 10 kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="dicloro">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Multiação cloro orgânico (1kg / 2,5kg / 5kg / 10kg) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="multicloro">
              <div class="product-image-carousel" data-carousel="multicloro">
                <img src="multiação 1kg.webp"
                     alt="Multiação cloro orgânico BeL 1 kg"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="multiação 2,5kg.webp"
                     alt="Multiação cloro orgânico BeL 2,5 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <img src="multiação 5kg.png"
                     alt="Multiação cloro orgânico BeL 5 kg"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="multicloro">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="multicloro">›</button>
              </div>
              <h4>Multiação cloro orgânico BeL</h4>
              <p class="product-pack">Peso/volume: 1 kg / 2,5 kg / 5 kg / 10kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="multicloro">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Multiação tablete de tricloro 200g -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="tablete">
              <div class="product-image-carousel" data-carousel="tablete">
                <img src="MULTIAÇÃO TABLETE.png"
                     alt="Multiação tablete de tricloro BeL 200g"
                     class="product-carousel-img active"
                     data-variant-img>
              </div>
              <h4>Multiação tablete de tricloro BeL</h4>
              <p class="product-pack">Peso/volume: 200 g</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="tablete">
              Adicionar ao carrinho
            </button>
          </div>
        </div>
      </div>

      <!-- TRATAR -->
      <div class="product-group">
        <h3>Tratar</h3>
        <p class="product-group-subtitle">
          Apresentação, decantação, controle de algas, remoção de gordura e sujeiras na borda.
        </p>

        <div class="products-grid">
          <!-- Algicida (1L / 5L) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="algicida">
              <div class="product-image-carousel" data-carousel="algicida">
                <img src="ALGICIDA.webp"
                     alt="Algicida BeL 1 L"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="algicida 5L.png"
                     alt="Algicida BeL 5 L"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="algicida">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="algicida">›</button>
              </div>
              <h4>Algicida BeL</h4>
              <p class="product-pack">Volume: 1 L / 5 L</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="algicida">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Clarificante (1L / 5L) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="clarificante">
              <div class="product-image-carousel" data-carousel="clarificante">
                <img src="CLARIFICANTE.jpg"
                     alt="Clarificante BeL 1 L"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="clarificante 5l.webp"
                     alt="Clarificante BeL 5 L"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="clarificante">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="clarificante">›</button>
              </div>
              <h4>Clarificante BeL</h4>
              <p class="product-pack">Volume: 1 L / 5 L</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="clarificante">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Limpa bordas (1L / 5L) -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="limpa-bordas">
              <div class="product-image-carousel" data-carousel="limpa-bordas">
                <img src="LIMPA BORDAS.png"
                     alt="Limpa bordas BeL 1 L"
                     class="product-carousel-img active"
                     data-variant-img>
                <img src="limpa borda 5l.png"
                     alt="Limpa bordas BeL 5 L"
                     class="product-carousel-img"
                     data-variant-img>
                <button class="product-carousel-arrow carousel-prev" data-carousel-prev="limpa-bordas">‹</button>
                <button class="product-carousel-arrow carousel-next" data-carousel-next="limpa-bordas">›</button>
              </div>
              <h4>Limpa bordas BeL</h4>
              <p class="product-pack">Volume: 1 L / 5 L</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="limpa-bordas">
              Adicionar ao carrinho
            </button>
          </div>

          <!-- Sulfato de alumínio -->
          <div class="product-card">
            <div class="product-main-click-area" data-product-id="sulfato">
              <div class="product-image-carousel" data-carousel="sulfato">
                <img src="SULFATO DE ÁLUMINIO.webp"
                     alt="Sulfato de alumínio BeL 2 kg"
                     class="product-carousel-img active"
                     data-variant-img>
              </div>
              <h4>Sulfato de alumínio BeL</h4>
              <p class="product-pack">Peso/volume: 2 kg</p>
            </div>
            <button class="btn-small btn-primary" data-add-to-cart="sulfato">
              Adicionar ao carrinho
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= SOBRE ================= -->
<section id="sobre" class="about-section">
  <div class="about-wrapper">

    <!-- CARD ESQUERDO: MAPA + LOCALIZAÇÃO -->
    <div class="about-card about-card-location">
      <div class="about-map-wrapper">
        <img
          src="gps localização.png"
          alt="Localização LUVIG"
          class="about-map"
        />
      </div>

      <div class="about-location-text">
        <h3>Sobre a Localização</h3>
        <p>
          Nossa sede está localizada estrategicamente em Palmas – Governador Celso Ramos,
          garantindo agilidade no atendimento aos clientes da região e proximidade com os
          principais condomínios e residências atendidos diariamente pela nossa equipe.
        </p>

        <p>
          Avenida Augusto Prolik, nº 984, sala 2 – Bairro Palmas – CEP 88191-340<br />
          Governador Celso Ramos – SC
        </p>
      </div>
    </div>

    <!-- CARD DIREITO: SOBRE A LUVIG -->
    <div class="about-card about-card-sobre">
      <h2 class="about-title">Sobre a LUVIG</h2>

      <p class="about-text">
        Com mais de 14 anos de atuação, a LUVIG Serviços Gerais LTDA nasceu da força de vontade,
        dedicação e visão empreendedora de Luciano e Girlane. Antes de consolidar a empresa, ambos
        já administraram a tradicional sorveteria Doce Sabor, muito conhecida em Palmas.
      </p>

      <p class="about-text">
        A ideia de criar a LUVIG surgiu quando Luciano começou a realizar serviços extras de limpeza
        de piscinas para amigos. A qualidade do trabalho fez a procura crescer naturalmente,
        permitindo a expansão para serviços de limpeza predial, jardinagem e manutenção de áreas comuns.
      </p>

      <p class="about-text">
        Hoje, além dos serviços, a LUVIG também oferece a linha completa de produtos BeL Piscinas,
        unindo experiência prática, suporte técnico e soluções profissionais para quem busca
        segurança, eficiência e resultado.
      </p>

      <p class="about-text">
        Seguimos evoluindo e ampliando nossos serviços, sempre com compromisso, seriedade e amor
        pelo que fazemos.
      </p>
    </div>

  </div>
</section>

   <!-- ================= CONTATO ================= -->
  <section id="contato" class="section section-alt">
    <div class="container">
      <h2>Contato</h2>
      <p class="section-intro">
        Fale com a LUVIG para contratar serviços, tirar dúvidas sobre os produtos BeL Piscinas
        ou solicitar visita técnica em Governador Celso Ramos.
      </p>

      <div class="contact-grid">
        <div>
          <h3>Endereço</h3>
          <p>
            Avenida Augusto Prolik, nº 984, sala 2<br>
            Bairro Palmas – CEP 88191-340<br>
            Governador Celso Ramos – SC
          </p>

          <h3>Telefones</h3>
          <p>
            <img src="whats_logo-removebg-preview.png" class="icon-inline" alt=""> WhatsApp e ligações:
            <strong>(48) 99656-6764</strong>
          </p>
          <p>
            <img src="telefone_logo-removebg-preview.png" class="icon-inline" alt=""> Telefone para ligações (produtos):
            <strong>(48) 2012-6117</strong> (somente ligações).
          </p>

          <h3>E-mail</h3>
          <p>
            <img src="email_logo-removebg-preview.png" class="icon-inline" alt="">
            <a href="mailto:contato@luvigservicos.com.br">contato@luvigservicos.com.br</a>
          </p>
        </div>

        <div>
          <h3>Redes sociais</h3>
          <p>
            <a href="https://www.instagram.com/luvigservicos"
               target="_blank"
               rel="noopener noreferrer">
              <img src="insta_sem_fundo_logo-removebg-preview.png"
                   alt="Instagram LUVIG Serviços"
                   class="icon-instagram">
            </a>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= FOOTER ================= -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-inner">
        <div>
          © LUVIG Serviços Gerais LTDA – CNPJ 14.894.784/0001-53.
          Pagamentos aceitos: Pix, boleto e transferência bancária.
        </div>
        <div>
          Desenvolvido por
          <img src="vm_logo_se-removebg-preview.png" alt="VM Social Media" class="footer-logo-vm">
          VM Social Media
        </div>
      </div>
    </div>
  </footer>

  <!-- ================= MODAL PRODUTO ================= -->
  <div class="modal-overlay" id="productModalOverlay">
    <div class="modal">
      <button class="modal-close" id="productModalClose">×</button>
      <div class="modal-body">
        <div class="modal-product-image">
          <img id="modalProductImage" src="" alt="" />
        </div>
        <div class="modal-product-info">
          <h3 id="modalProductTitle"></h3>
          <p id="modalProductDescription" class="modal-product-desc"></p>

          <div class="modal-variant-block" id="modalVariantBlock">
            <span class="field-label">Peso/volume:</span>
            <div class="variant-buttons" id="modalVariantButtons"></div>
          </div>

          <div class="modal-quantity-row">
            <div>
              <span class="field-label">Quantidade</span>
              <input type="number" id="modalQuantity" min="1" value="1" />
            </div>
            <div>
              <span class="field-label">Valor aproximado</span>
              <div class="modal-total" id="modalTotal">R$ 0,00</div>
            </div>
          </div>

          <button class="btn-primary btn-small" id="modalAddToCart">
            Adicionar ao carrinho
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ================= CARRINHO ================= -->
  <div class="cart-overlay" id="cartOverlay">
    <div class="cart-panel">
      <button class="cart-close" id="cartClose">×</button>
      <h3>Seu carrinho</h3>
      <div id="cartItems"></div>

      <div class="cart-summary">
        <div class="cart-total-row">
          <span>Total aproximado:</span>
          <strong id="cartTotal">R$ 0,00</strong>
        </div>
        <div style="font-size:12px; color:#6b7280; margin-bottom:8px;">
          Valores e disponibilidade serão confirmados pelo WhatsApp antes da conclusão.
          Formas de pagamento: Pix, boleto ou transferência bancária.
        </div>
        <button class="btn-secondary btn-small" id="btnContinueShopping">
          Continuar comprando
        </button>
        <button class="btn-primary btn-small" id="btnCheckout">
          Finalizar pedido
        </button>
      </div>
    </div>
  </div>

  <!-- ================= CHECKOUT (DADOS DO CLIENTE) ================= -->
  <div class="modal-overlay" id="checkoutOverlay">
    <div class="modal">
      <button class="modal-close" id="checkoutClose">×</button>

      <h3>Dados para contato e entrega</h3>
      <p class="modal-product-desc">
        Preencha os dados abaixo para que possamos organizar o orçamento, combinar forma de pagamento
        e entrega dos produtos.
      </p>

      <div class="checkout-grid">
        <div>
          <span class="field-label">Nome</span>
          <input type="text" id="checkoutNome" />
        </div>
        <div>
          <span class="field-label">Sobrenome</span>
          <input type="text" id="checkoutSobrenome" />
        </div>

        <div>
          <span class="field-label">Telefone / WhatsApp</span>
          <input type="text" id="checkoutTelefone" />
        </div>
        <div>
          <span class="field-label">E-mail</span>
          <input type="email" id="checkoutEmail" />
        </div>

        <div class="full-row">
          <span class="field-label">Linha de endereço</span>
          <input type="text" id="checkoutEndereco" placeholder="Rua, número, complemento" />
        </div>

        <div>
          <span class="field-label">Bairro</span>
          <input type="text" id="checkoutBairro" />
        </div>
        <div>
          <span class="field-label">Cidade</span>
          <input type="text" id="checkoutCidade" />
        </div>
      </div>

      <div style="margin-top:12px; font-size:12px; color:#4b5563;">
        <strong>Formas de pagamento aceitas:</strong> Pix, boleto e transferência bancária.
        Demais dados (CPF, chave Pix, dados bancários, prazos) serão combinados diretamente pelo WhatsApp.
      </div>

      <div class="checkout-actions">
        <button class="btn-secondary btn-small" id="checkoutCancel">
          Voltar
        </button>
        <button class="btn-primary btn-small" id="checkoutConfirm">
          Enviar pedido para WhatsApp
        </button>
      </div>
    </div>
  </div>

  <!-- ================= MODAL ORÇAMENTO DE SERVIÇOS ================= -->
  <div class="service-modal-overlay" id="serviceModalOverlay">
    <div class="service-modal">
      <button class="service-modal-close" id="serviceModalClose">×</button>

      <!-- Passo 1: tipo de serviço / modalidade -->
      <div class="service-modal-step active" data-step="1">
        <h3>Solicitar orçamento de serviços</h3>
        <p>
          Para enviarmos sua solicitação, preencha primeiro o tipo de serviço e a modalidade desejada.
        </p>

        <div class="service-field">
          <span class="service-field-label">Tipo de serviço</span>
          <div class="service-radio-group" id="serviceTipo">
            <label><input type="radio" name="tipoServico" value="Limpeza de piscina"> Limpeza de piscina</label>
            <label><input type="radio" name="tipoServico" value="Limpeza predial"> Limpeza predial</label>
            <label><input type="radio" name="tipoServico" value="Serviços gerais em prédio"> Serviços gerais em prédio</label>
            <label><input type="radio" name="tipoServico" value="Corte de grama"> Corte de grama</label>
            <label><input type="radio" name="tipoServico" value="Jardim"> Jardim</label>
            <label><input type="radio" name="tipoServico" value="Limpeza de caixa d’água / cisterna"> Limpeza de caixa d’água / cisterna</label>
            <label><input type="radio" name="tipoServico" value="Outros"> Outros</label>
          </div>
        </div>

        <div class="service-field" style="margin-top:10px;">
          <span class="service-field-label">Modalidade</span>
          <div class="service-radio-group" id="serviceModalidade">
            <label><input type="radio" name="modalidadeServico" value="Freelancer"> Freelancer (uma única vez)</label>
            <label><input type="radio" name="modalidadeServico" value="Semanal"> Semanal</label>
            <label><input type="radio" name="modalidadeServico" value="Mensal"> Mensal</label>
          </div>
        </div>

        <div class="service-conditional" id="serviceFrequenciaWrapper" style="display:none;">
          <span class="service-field-label">Quantidade de visitas (1 a 7 vezes)</span>
          <input type="number" min="1" max="7" id="serviceFrequencia" class="service-input" />
          <span class="service-hint">Informe quantas vezes por semana ou por mês, conforme a modalidade.</span>
        </div>

        <div class="service-conditional" id="serviceCargaHorariaWrapper" style="display:none;">
          <span class="service-field-label">Carga horária semanal (serviços em prédio)</span>
          <select id="serviceCargaHoraria" class="service-input">
            <option value="">Selecione</option>
            <option>2 horas semanais</option>
            <option>4 horas semanais</option>
            <option>6 horas semanais</option>
            <option>8 horas semanais</option>
            <option>10 horas semanais</option>
            <option>12 horas semanais</option>
            <option>14 horas semanais</option>
            <option>16 horas semanais</option>
            <option>18 horas semanais</option>
            <option>20 horas semanais</option>
            <option>Outro (informar no WhatsApp)</option>
          </select>
          <span class="service-hint">
            Em caso de “Outro”, descreva o horário desejado na conversa pelo WhatsApp.
          </span>
        </div>

        <div class="service-modal-actions">
          <button class="btn-secondary btn-small" id="serviceStep1Cancel">
            Cancelar
          </button>
          <button class="btn-primary btn-small" id="serviceStep1Next" disabled>
            Próximo
          </button>
        </div>
      </div>

      <!-- Passo 2: pergunta exclusiva conforme serviço -->
      <div class="service-modal-step" data-step="2">
        <h3>Detalhes do local do serviço</h3>
        <p>
          Agora nos conte um pouco mais sobre o local onde o serviço será realizado.
        </p>

        <div id="servicePerguntaExclusiva"></div>

        <div class="service-modal-actions">
          <button class="btn-secondary btn-small" id="serviceStep2Back">
            Voltar
          </button>
          <button class="btn-primary btn-small" id="serviceStep2Next" disabled>
            Próximo
          </button>
        </div>
      </div>

      <!-- Passo 3: dados do cliente -->
      <div class="service-modal-step" data-step="3">
        <h3>Dados para contato</h3>
        <p>
          Preencha seus dados para que possamos retornar com o orçamento.
        </p>

        <div class="service-grid-2">
          <div>
            <span class="service-field-label">Nome</span>
            <input type="text" id="svcNome" class="service-input" />
          </div>
          <div>
            <span class="service-field-label">Sobrenome</span>
            <input type="text" id="svcSobrenome" class="service-input" />
          </div>
          <div>
            <span class="service-field-label">Telefone / WhatsApp</span>
            <input type="text" id="svcTelefone" class="service-input" />
          </div>
          <div>
            <span class="service-field-label">E-mail</span>
            <input type="email" id="svcEmail" class="service-input" />
          </div>
        </div>

        <div style="margin-top:8px;">
          <span class="service-field-label">Local de atendimento</span>
          <input type="text"
                 id="svcLocal"
                 class="service-input"
                 placeholder="Bairro, cidade e ponto de referência" />
        </div>

        <div class="service-modal-actions">
          <button class="btn-secondary btn-small" id="serviceStep3Back">
            Voltar
          </button>
          <button class="btn-primary btn-small" id="serviceStep3Next" disabled>
            Próximo
          </button>
        </div>
      </div>

      <!-- Passo 4: resumo e envio -->
      <div class="service-modal-step" data-step="4">
        <h3>Conferir e enviar</h3>
        <p>
          Revise as informações abaixo. Se estiver tudo certo, envie sua solicitação de orçamento.
        </p>

        <div class="service-resumo" id="serviceResumo"></div>

        <div class="service-modal-actions">
          <button class="btn-secondary btn-small" id="serviceStep4Edit">
            Editar informações
          </button>
          <button class="btn-primary btn-small" id="serviceStep4Enviar">
            Enviar para WhatsApp
          </button>
        </div>

        <p style="margin-top:10px; font-size:12px; color:#4b5563;">
          Depois de enviar, nossa equipe entra em contato pelo WhatsApp para detalhar o orçamento.
          Você também receberá um e-mail automático confirmando o recebimento da solicitação.
        </p>
      </div>
    </div>
  </div>

  <!-- ================= TOAST ================= -->
  <div class="toast" id="toast"></div>

  <!-- ================= SCRIPT PRINCIPAL ================= -->
  <script>
    /* Utilitário simples de formatação */
    function formatPrice(v) {
      return "R$ " + v.toFixed(2).replace(".", ",");
    }

    /* ==========================
       DADOS DOS PRODUTOS
    ========================== */
    const products = {
      "kit-teste": {
        id: "kit-teste",
        nome: "Kit teste cloro e pH BeL",
        descricao: "Kit completo para medição de cloro e pH da água da piscina.",
        categoria: "Verificar",
        imagens: ["kit teste.png"],
        variantes: [
          { id: "1-unidade", label: "1 unidade", peso: "1 unidade", preco: 39.9 },
          { id: "2-unidades", label: "2 unidades", peso: "2 unidades", preco: 69.9 }
        ]
      },
      "cloro-granulado": {
        id: "cloro-granulado",
        nome: "Cloro granulado BeL - Hipoclorito de Cálcio 65%",
        descricao: "Cloro granulado para tratamento contínuo da água da piscina.",
        categoria: "Purificar",
        imagens: ["cloro 10kg.png"],
        variantes: [
          { id: "10kg", label: "10 kg", peso: "10 kg", preco: 409.99 }
        ]
      },
      dicloro: {
        id: "dicloro",
        nome: "Dicloro orgânico estabilizado 60% BeL",
        descricao: "Cloro orgânico estabilizado para tratamento e manutenção da água.",
        categoria: "Purificar",
        imagens: ["dicloro 10kg.png"],
        variantes: [
          { id: "10kg", label: "10 kg", peso: "10 kg", preco: 469.9 }
        ]
      },
      multicloro: {
        id: "multicloro",
        nome: "Multiação cloro orgânico BeL",
        descricao: "Produto multiação para purificar, auxiliar no combate a algas e manter a água protegida.",
        categoria: "Purificar",
        imagens: [
          "multiação 1kg.webp",
          "multiação 2,5kg.webp",
          "multiação 5kg.png",
          "MULTIAÇÃO 10 KG.png"
        ],
        variantes: [
          { id: "1kg", label: "1 kg", peso: "1 kg", preco: 37.99 },
          { id: "2-5kg", label: "2,5 kg", peso: "2,5 kg", preco: 84.99 },
          { id: "5kg", label: "5 kg", peso: "5 kg", preco: 145.99 },
          { id: "10kg", label: "10 kg", peso: "10 kg", preco: 260.99 }
        ]
      },
      algicida: {
        id: "algicida",
        nome: "Algicida BeL",
        descricao: "Auxilia no combate e prevenção de algas na água da piscina.",
        categoria: "Ajustar",
        imagens: ["algicida 1l.jpg"],
        variantes: [
          { id: "1l", label: "1 L", peso: "1 L", preco: 29.9 }
        ]
      },
      clarificante: {
        id: "clarificante",
        nome: "Clarificante BeL",
        descricao: "Ajuda a decantar as impurezas e deixar a água cristalina.",
        categoria: "Ajustar",
        imagens: ["clarificante 1l.jpg"],
        variantes: [
          { id: "1l", label: "1 L", peso: "1 L", preco: 36.9 }
        ]
      },
      "limpa-bordas": {
        id: "limpa-bordas",
        nome: "Limpa Bordas BeL",
        descricao: "Remove oleosidade, gordura e sujeiras aderidas nas bordas da piscina.",
        categoria: "Ajustar",
        imagens: ["limpa bordas 1l.jpg"],
        variantes: [
          { id: "1l", label: "1 L", peso: "1 L", preco: 33.9 }
        ]
      },
      "sulfato-aluminio": {
        id: "sulfato-aluminio",
        nome: "Sulfato de alumínio BeL",
        descricao: "Auxilia na correção da alcalinidade e na decantação de partículas em suspensão.",
        categoria: "Ajustar",
        imagens: ["sulfato de aluminio 10kg.jpg"],
        variantes: [
          { id: "10kg", label: "10 kg", peso: "10 kg", preco: 119.9 }
        ]
      },
      barrilha: {
        id: "barrilha",
        nome: "Barrilha leve BeL",
        descricao: "Produto para ajuste de pH da água da piscina.",
        categoria: "Ajustar",
        imagens: ["barrilha leve.jpg"],
        variantes: [
          { id: "2kg", label: "2 kg", peso: "2 kg", preco: 36.99 }
        ]
      },
      bicarbonato: {
        id: "bicarbonato",
        nome: "Bicarbonato de sódio BeL",
        descricao: "Auxilia no aumento da alcalinidade total da água, ajudando a estabilizar o pH.",
        categoria: "Ajustar",
        imagens: ["bicarbonato 2kg.jpg"],
        variantes: [
          { id: "2kg", label: "2 kg", peso: "2 kg", preco: 39.99 }
        ]
      }
    };

    /* ==========================
       ESTADO DO CARRINHO / CLIENTE
    ========================== */
    let cart = [];
    let currentProduct = null;
    let currentVariantId = null;

    const cartCountEl = document.getElementById("cart-count");
    const cartOverlay = document.getElementById("cartOverlay");
    const cartItemsEl = document.getElementById("cartItems");
    const cartTotalEl = document.getElementById("cartTotal");
    const floatingCartCount = document.getElementById("fabCartCount");

    // botões do cabeçalho
    const btnOpenLead = document.getElementById("openLeadModal");
    const btnOpenCart = document.getElementById("openCart");

    const toast = document.getElementById("toast");

    function showToast(message) {
      toast.textContent = message;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 2200);
    }

    function updateCartCount() {
      const total = cart.reduce((sum, item) => sum + item.qtd, 0);

      // contador do cabeçalho
      if (cartCountEl) {
        cartCountEl.textContent = total;
      }

      // badge do botão flutuante (mobile)
      if (floatingCartCount) {
        floatingCartCount.textContent = total;
      }
    }

    function rebuildCartUI() {
      if (!cartItemsEl) return;
      cartItemsEl.innerHTML = "";
      if (cart.length === 0) {
        cartItemsEl.innerHTML =
          "<p style='font-size:13px;color:#6b7280;'>Seu carrinho está vazio.</p>";
        cartTotalEl.textContent = "R$ 0,00";
        return;
      }

      let total = 0;
      cart.forEach((item, index) => {
        const li = document.createElement("div");
        li.className = "cart-item";

        const left = document.createElement("div");
        left.className = "cart-item-left";

        const title = document.createElement("div");
        title.className = "cart-item-title";
        title.textContent = item.nome;

        const subtitle = document.createElement("div");
        subtitle.className = "cart-item-subtitle";
        subtitle.textContent = `${item.variacao} • ${item.peso}`;

        left.appendChild(title);
        left.appendChild(subtitle);

        const right = document.createElement("div");
        right.className = "cart-item-right";

        const qtd = document.createElement("span");
        qtd.className = "cart-item-qtd";
        qtd.textContent = `${item.qtd}x`;

        const price = document.createElement("span");
        price.className = "cart-item-price";
        price.textContent = formatPrice(item.preco * item.qtd);

        const removeBtn = document.createElement("button");
        removeBtn.className = "cart-item-remove";
        removeBtn.textContent = "Remover";
        removeBtn.addEventListener("click", () => {
          cart.splice(index, 1);
          rebuildCartUI();
          updateCartCount();
          showToast("Item removido do carrinho.");
        });

        right.appendChild(qtd);
        right.appendChild(price);
        right.appendChild(removeBtn);

        li.appendChild(left);
        li.appendChild(right);
        cartItemsEl.appendChild(li);

        total += item.preco * item.qtd;
      });

      cartTotalEl.textContent = formatPrice(total);
    }

    const openCartBtn = document.getElementById("openCart");
    const openCartBtnMobile = document.getElementById("openCartMobile");

    function abrirCarrinho() {
      rebuildCartUI();
      cartOverlay.classList.add("active");
    }

    [openCartBtn, openCartBtnMobile].forEach((btn) => {
      if (btn) btn.addEventListener("click", abrirCarrinho);
    });

    const closeCartBtn = document.getElementById("cartClose");
    const checkoutBtn = document.getElementById("checkoutConfirm");
    const checkoutCancel = document.getElementById("checkoutCancel");

    if (closeCartBtn) {
      closeCartBtn.addEventListener("click", () => {
        cartOverlay.classList.remove("active");
      });
    }

    if (checkoutCancel) {
      checkoutCancel.addEventListener("click", () => {
        cartOverlay.classList.remove("active");
      });
    }

    const cartOverlayBg = document.querySelector(".cart-overlay");
    if (cartOverlayBg) {
      cartOverlayBg.addEventListener("click", (e) => {
        if (e.target === cartOverlayBg) {
          cartOverlay.classList.remove("active");
        }
      });
    }

    if (checkoutBtn) {
      checkoutBtn.addEventListener("click", () => {
        if (cart.length === 0) {
          showToast("Seu carrinho está vazio.");
          return;
        }

        let resumo = "";
        let total = 0;

        cart.forEach((item, index) => {
          resumo += `${index + 1}. ${item.nome} (${item.variacao}, ${
            item.peso
          }) - ${item.qtd}x ${formatPrice(item.preco)} = ${formatPrice(
            item.preco * item.qtd
          )}%0A`;
          total += item.preco * item.qtd;
        });

        resumo += `%0A*Total estimado:* ${formatPrice(total)}%0A`;

        const mensagemWhatsapp =
          "Olá, tudo bem? Gostaria de finalizar a compra dos produtos:%0A%0A" +
          resumo +
          "%0AFico no aguardo do retorno. Obrigado(a)!";

        window.open(
          `https://wa.me/5548996566764?text=${mensagemWhatsapp}`,
          "_blank"
        );
      });
    }

    function addToCart(productId, variantId) {
      const product = products[productId];
      if (!product) return;

      const variant = product.variantes.find((v) => v.id === variantId);
      if (!variant) return;

      const existing = cart.find(
        (item) => item.id === productId && item.variantId === variantId
      );
      if (existing) {
        existing.qtd += 1;
      } else {
        cart.push({
          id: productId,
          variantId: variantId,
          nome: product.nome,
          variacao: variant.label,
          peso: variant.peso,
          preco: variant.preco,
          qtd: 1
        });
      }

      updateCartCount();
      showToast("Produto adicionado ao carrinho.");
    }

    function attachProductCardEvents() {
      document.querySelectorAll(".product-card").forEach((card) => {
        const productId = card.dataset.productId;
        const product = products[productId];
        if (!product) return;

        const selectVariant = card.querySelector(".product-variant-select");
        const btnAddToCart = card.querySelector(".btn-add-to-cart");

        if (selectVariant && btnAddToCart) {
          selectVariant.innerHTML = "";
          product.variantes.forEach((variant) => {
            const option = document.createElement("option");
            option.value = variant.id;
            option.textContent = `${variant.label} – ${formatPrice(
              variant.preco
            )}`;
            selectVariant.appendChild(option);
          });

          btnAddToCart.addEventListener("click", () => {
            const selectedVariantId = selectVariant.value;
            addToCart(productId, selectedVariantId);
          });
        }

        const carouselTrack = card.querySelector(".product-card-carousel-track");
        const prevBtn = card.querySelector(".product-card-carousel-prev");
        const nextBtn = card.querySelector(".product-card-carousel-next");

        if (carouselTrack && product.imagens.length > 1) {
          let currentIndex = 0;
          const imgs = carouselTrack.querySelectorAll("img");
          function showImage(idx) {
            imgs.forEach((img, i) => {
              img.style.display = i === idx ? "block" : "none";
            });
          }
          showImage(0);

          if (prevBtn) {
            prevBtn.addEventListener("click", () => {
              currentIndex =
                (currentIndex - 1 + product.imagens.length) %
                product.imagens.length;
              showImage(currentIndex);
            });
          }
          if (nextBtn) {
            nextBtn.addEventListener("click", () => {
              currentIndex = (currentIndex + 1) % product.imagens.length;
              showImage(currentIndex);
            });
          }
        }
      });
    }

    attachProductCardEvents();

    document.addEventListener("DOMContentLoaded", () => {
      [
        "cloro-granulado",
        "dicloro",
        "multicloro",
        "algicida",
        "clarificante",
        "limpa-bordas"
      ].forEach(setupProductCardCarousel);
    });

    /* ==========================
       MODAL ORÇAMENTO SERVIÇOS
    ========================== */

    const svcOverlay = document.getElementById("serviceModalOverlay");
    const svcSteps = Array.from(
      document.querySelectorAll(".service-modal-step")
    );
    let svcStepAtual = 1;

    const svcState = {
      tipo: "",
      modalidade: "",
      frequencia: "",
      cargaHoraria: "",
      exclusiva: "",
      area: "",
      areaExtras: "",
      producao: "",
      comentarios: "",
      nome: "",
      sobrenome: "",
      telefone: "",
      email: "",
      local: ""
    };

    function setSvcStep(step) {
      svcStepAtual = step;
      svcSteps.forEach((st) => {
        st.classList.toggle(
          "active",
          Number(st.dataset.step) === svcStepAtual
        );
      });
    }

    function abrirSvcModal() {
      if (!svcOverlay) return;
      svcOverlay.classList.add("active");
      setSvcStep(1);
    }

    function fecharSvcModal() {
      if (!svcOverlay) return;
      svcOverlay.classList.remove("active");
    }

    /* ===== BOTÕES QUE ABREM O MODAL (desktop + mobile) ===== */
    const btnSolicitarServico = document.getElementById("btnSolicitarServico");
    const btnOpenLeadMobile = document.getElementById("openLeadModalMobile");
    const btnSvcClose = document.getElementById("serviceModalClose");

    if (btnSolicitarServico) {
      btnSolicitarServico.addEventListener("click", abrirSvcModal);
    }

    [btnOpenLead, btnOpenLeadMobile].forEach((btn) => {
      if (btn) btn.addEventListener("click", abrirSvcModal);
    });

    if (btnSvcClose) {
      btnSvcClose.addEventListener("click", fecharSvcModal);
    }

    if (svcOverlay) {
      svcOverlay.addEventListener("click", (e) => {
        if (e.target === svcOverlay) {
          fecharSvcModal();
        }
      });
    }

    /* ==========================
       PASSO 1 – tipo / modalidade
    ========================== */
    const step1Next = document.getElementById("serviceStep1Next");
    const step1Cancel = document.getElementById("serviceStep1Cancel");
    const tipoGroup = document.getElementById("serviceTipo");
    const modGroup = document.getElementById("serviceModalidade");
    const freqWrapper = document.getElementById("serviceFrequenciaWrapper");
    const freqInput = document.getElementById("serviceFrequencia");
    const cargaWrapper = document.getElementById("serviceCargaHorariaWrapper");
    const cargaSelect = document.getElementById("serviceCargaHoraria");

    function checkStep1Valid() {
      const tipo = tipoGroup.querySelector(
        "input[name='tipoServico']:checked"
      );
      const mod = modGroup.querySelector(
        "input[name='modalidadeServico']:checked"
      );
      let ok = !!tipo && !!mod;

      const tipoVal = tipo ? tipo.value : "";
      const modVal = mod ? mod.value : "";

      if (modVal === "Semanal" || modVal === "Mensal") {
        freqWrapper.style.display = "block";
        if (!freqInput.value) ok = false;
      } else {
        freqWrapper.style.display = "none";
        freqInput.value = "";
      }

      if (
        tipoVal === "Limpeza predial" ||
        tipoVal === "Serviços gerais em prédio"
      ) {
        cargaWrapper.style.display = "block";
        if (!cargaSelect.value) ok = false;
      } else {
        cargaWrapper.style.display = "none";
        cargaSelect.value = "";
      }

      step1Next.disabled = !ok;
    }

    ["change", "input"].forEach((evt) => {
      tipoGroup.addEventListener(evt, checkStep1Valid);
      modGroup.addEventListener(evt, checkStep1Valid);
      freqInput.addEventListener(evt, checkStep1Valid);
      cargaSelect.addEventListener(evt, checkStep1Valid);
    });

    step1Next.addEventListener("click", () => {
      const tipo = tipoGroup.querySelector(
        "input[name='tipoServico']:checked"
      );
      const mod = modGroup.querySelector(
        "input[name='modalidadeServico']:checked"
      );

      svcState.tipo = tipo ? tipo.value : "";
      svcState.modalidade = mod ? mod.value : "";
      svcState.frequencia = freqInput.value.trim();
      svcState.cargaHoraria = cargaSelect.value;

      setSvcStep(2);
    });

    step1Cancel.addEventListener("click", () => {
      fecharSvcModal();
    });

    checkStep1Valid();

    /* ==========================
       PASSO 2 – exclusividade do contrato
    ========================== */
    const step2Next = document.getElementById("serviceStep2Next");
    const step2Back = document.getElementById("serviceStep2Back");

    step2Next.addEventListener("click", () => {
      const v = document.getElementById("svcExclusiva").value.trim();
      if (!v) return;
      svcState.exclusiva = v;
      setSvcStep(3);
      checkStep3Valid();
    });

    step2Back.addEventListener("click", () => setSvcStep(1));

    /* ==========================
       PASSO 3 – dados do cliente
    ========================== */
    const step3Next = document.getElementById("serviceStep3Next");
    const step3Back = document.getElementById("serviceStep3Back");

    function checkStep3Valid() {
      svcState.nome = document.getElementById("svcNome").value.trim();
      svcState.sobrenome = document
        .getElementById("svcSobrenome")
        .value.trim();
      svcState.telefone = document
        .getElementById("svcTelefone")
        .value.trim();
      svcState.email = document.getElementById("svcEmail").value.trim();
      svcState.local = document.getElementById("svcLocal").value.trim();

      const ok =
        svcState.nome &&
        svcState.sobrenome &&
        svcState.telefone &&
        svcState.email &&
        svcState.local;

      step3Next.disabled = !ok;
    }

    ["input", "change"].forEach((evt) => {
      ["svcNome", "svcSobrenome", "svcTelefone", "svcEmail", "svcLocal"].forEach(
        (id) => {
          const el = document.getElementById(id);
          if (el) el.addEventListener(evt, checkStep3Valid);
        }
      );
    });

    step3Next.addEventListener("click", () => {
      svcState.nome = document.getElementById("svcNome").value.trim();
      svcState.sobrenome = document
        .getElementById("svcSobrenome")
        .value.trim();
      svcState.telefone = document
        .getElementById("svcTelefone")
        .value.trim();
      svcState.email = document.getElementById("svcEmail").value.trim();
      svcState.local = document.getElementById("svcLocal").value.trim();

      if (
        !svcState.nome ||
        !svcState.sobrenome ||
        !svcState.telefone ||
        !svcState.email ||
        !svcState.local
      ) {
        return;
      }

      setSvcStep(4);
      montarResumoFinal();
    });

    step3Back.addEventListener("click", () => setSvcStep(2));

    function montarResumoFinal() {
      const resumoEl = document.getElementById("svcResumoFinal");
      if (!resumoEl) return;

      let resumo = "";
      resumo += `• Tipo de serviço: ${svcState.tipo}%0A`;
      resumo += `• Modalidade: ${svcState.modalidade}%0A`;

      if (svcState.frequencia) {
        resumo += `• Frequência: ${svcState.frequencia}%0A`;
      }
      if (svcState.cargaHoraria) {
        resumo += `• Carga horária (serviços em prédio): ${svcState.cargaHoraria}%0A`;
      }
      if (svcState.exclusiva) {
        resumo += `• Exclusividade / condições especiais: ${svcState.exclusiva}%0A`;
      }

      resumo += "%0A📍 Local de atendimento:%0A";
      resumo += `${svcState.local}%0A%0A`;

      resumo += "👤 Dados do responsável:%0A";
      resumo += `${svcState.nome} ${svcState.sobrenome}%0A`;
      resumo += `Telefone / WhatsApp: ${svcState.telefone}%0A`;
      resumo += `E-mail: ${svcState.email}%0A`;

      resumoEl.textContent = decodeURIComponent(resumo.replace(/%0A/g, "\n"));
    }

    /* ==========================
       PASSO 4 – envio da solicitação
    ========================== */
    const step4Finish = document.getElementById("serviceStep4Finish");

    step4Finish.addEventListener("click", () => {
      let resumo = "";
      resumo += `• Tipo de serviço: ${svcState.tipo}%0A`;
      resumo += `• Modalidade: ${svcState.modalidade}%0A`;
      if (svcState.frequencia) {
        resumo += `• Frequência: ${svcState.frequencia}%0A`;
      }
      if (svcState.cargaHoraria) {
        resumo += `• Carga horária (serviços em prédio): ${svcState.cargaHoraria}%0A`;
      }
      if (svcState.exclusiva) {
        resumo += `• Exclusividade / condições especiais: ${svcState.exclusiva}%0A`;
      }

      resumo += "%0A📍 Local de atendimento:%0A";
      resumo += `${svcState.local}%0A%0A`;

      resumo += "👤 Dados do responsável:%0A";
      resumo += `${svcState.nome} ${svcState.sobrenome}%0A`;
      resumo += `Telefone / WhatsApp: ${svcState.telefone}%0A`;
      resumo += `E-mail: ${svcState.email}%0A`;

      const mensagemWhatsapp =
        "Olá, tudo bem? Gostaria de solicitar um orçamento de serviços:%0A%0A" +
        resumo +
        "%0AFico no aguardo do retorno. Obrigado(a)!";

      window.open(
        `https://wa.me/5548996566764?text=${mensagemWhatsapp}`,
        "_blank"
      );

      const assunto = "Confirmação de solicitação de orçamento - LUVIG Serviços";
      let corpo =
        "LUVIG Serviços Gerais LTDA%0A%0A" +
        `Olá, ${svcState.nome}.%0A%0A` +
        "Confirmamos o recebimento da sua solicitação realizada através do nosso sistema.%0A" +
        "Abaixo, listamos os detalhes do seu pedido para conferência:%0A%0A" +
        "📋 Resumo da Solicitação:%0A%0A" +
        encodeURIComponent(resumo).replace(/%0A/g, "%0A") +
        "%0A%0AA equipe da Luvig Serviços Gerais LTDA já está analisando esses itens.%0A%0A" +
        "O que acontece agora? Nossa equipe entrará em contato com você diretamente pelo WhatsApp para confirmar a disponibilidade, " +
        "passar os valores finais e fechar a proposta.%0A%0A" +
        "ℹ️ Aviso Importante: Este é um e-mail automático apenas para registrar o recebimento do seu pedido. " +
        "Por favor, não responda a esta mensagem. Todo o nosso atendimento humano seguirá exclusivamente pelo WhatsApp.%0A%0A" +
        "Atenciosamente,%0AEquipe Luvig Serviços Gerais LTDA.";

      window.open(
        `mailto:${encodeURIComponent(
          svcState.email
        )}?subject=${assunto}&body=${corpo}`,
        "_blank"
      );

      showToast("Solicitação enviada para o WhatsApp.");
      fecharSvcModal();
    });

    // BOTÕES FLUTUANTES MOBILE
    const floatingWhatsBtn = document.getElementById("fabWhats");
    const floatingCartBtn = document.getElementById("fabCart");

    // Whats abre o MESMO modal de orçamento de serviços
    if (floatingWhatsBtn) {
      floatingWhatsBtn.addEventListener("click", () => {
        abrirSvcModal();
      });
    }

    // Carrinho abre o mesmo carrinho lateral
    if (floatingCartBtn) {
      floatingCartBtn.addEventListener("click", () => {
        abrirCarrinho();
      });

      // =========================
// BOTÕES FLUTUANTES MOBILE
// =========================

// pega os botões flutuantes
const floatingWhatsBtn = document.getElementById("fabWhats");
const floatingCartBtn  = document.getElementById("fabCart");

// garante que funções existem antes de usar
function safeAbrirServico() {
  if (typeof abrirSvcModal === "function") {
    abrirSvcModal();
  }
}

function safeAbrirCarrinho() {
  if (typeof abrirCarrinho === "function") {
    abrirCarrinho();
  }
}

// Whats abre orçamento
if (floatingWhatsBtn) {
  floatingWhatsBtn.addEventListener("click", safeAbrirServico);
}

// Carrinho abre carrinho
if (floatingCartBtn) {
  floatingCartBtn.addEventListener("click", safeAbrirCarrinho);
}
    }
  </script>
        <!-- BOTÕES FLUTUANTES – SOMENTE MOBILE -->
  <div class="floating-actions">
    <!-- Botão Whats / Orçamento -->
    <button type="button" class="fab fab-whats" id="fabWhats">
      <img src="whats_logo-removebg-preview.png" alt="WhatsApp LUVIG">
    </button>

    <!-- Botão Carrinho -->
    <button type="button" class="fab fab-cart" id="fabCart">
      <img src="ícone-do-vetor-carrinho-de-compras-isolado-no-fundo-transparente-li-130114699.webp" alt="Carrinho LUVIG">
      <span class="fab-cart-count" id="fabCartCount">0</span>
    </button>
  </div>
</body>
</html>
</body>




